<main class="profile-page" style="background-color: #3b5999;padding-bottom: 100px">
<!--    <section class="section-profile-cover section-shaped my-0">-->
<!--        &lt;!&ndash; Circles background &ndash;&gt;-->
<!--        <div class="shape shape-style-1 shape-primary alpha-4">-->
<!--            <span></span>-->
<!--            <span></span>-->
<!--            <span></span>-->
<!--            <span></span>-->
<!--            <span></span>-->
<!--            <span></span>-->
<!--            <span></span>-->
<!--        </div>-->
<!--        <div class="float-left" > <button [routerLink]="['../../publication']" style="margin-left: 20% ; margin-top: 80px; background-color: transparent;color: white" class="btn  btn-round">-->
<!--            <i class="ni ni-bold-left"></i> Back-->
<!--        </button></div>-->
<!--&lt;!&ndash;         SVG separator&ndash;&gt;-->
<!--&lt;!&ndash;        <div class="separator separator-bottom separator-skew">&ndash;&gt;-->
<!--&lt;!&ndash;            <svg x="0" y="0" viewBox="0 0 2560 100" preserveAspectRatio="none" version="1.1" xmlns="http://www.w3.org/2000/svg">&ndash;&gt;-->
<!--&lt;!&ndash;                <polygon class="fill-white" points="2560 0 2560 100 0 100"></polygon>&ndash;&gt;-->
<!--&lt;!&ndash;            </svg>&ndash;&gt;-->
<!--&lt;!&ndash;        </div>&ndash;&gt;-->
<!--    </section>-->
    <section class="section">
        <div class="container pt-lg-md justify-content-center" style="margin-top: 100px" >
            <div class="row justify-content-center ">
<!--                <div class="container ">-->
        <div class="card card-profile shadow col-lg-8 " >
            <div class="px-2">
                <div class="row justify-content-center ">
                    <div class=" float-left mr-4 ">
                        <div class="card-profile-image border-0">

                            <!--                                <a href="javascript:void(0)">-->
                            <!--                                    <i style="font-size: 50px ; color: #2d4474 ;" class="ni ni-circle-08 "></i>-->
                            <img style="width: 50px; height: 50px;" src="./assets/img/brand/user.png"  class="rounded-circle" >
                            <!--                                </a>-->
                        </div>

                    </div>
                    <div class="col-lg-8 order-lg-3   ml-100">
                        <h4 class="font-weight-700">{{pub.user.username}}
                            <span class="font-weight-light" *ngIf="pub.mood !== ''"> : {{pub.mood}}</span>
                            <br>
                            <span class="font-weight-light" *ngIf="pub.location !== null" > in {{pub.location}}</span>

                        </h4>


                    </div>

                </div>
                <div class="text-center mt-2 ">

                    <h3 class="text-left">
                        {{pub.topic}}</h3>
                    <div *ngIf="pub.survey.question !== null && pub.survey.options !== null "  class="mb-2">
                        <h4 class="font-italic font-weight-700">{{pub.survey.question}} ??</h4>
                        <div class="container">

                            <div class="row justify-content-center "  >

                                <div class="col-4" *ngFor="let op of pub.survey.options;let index = index"   [ngStyle]="index %2  === 0 ? {'background-color': '#AED6F1', 'border-radius': '15px 0px 0px 15px'} : {'background-color': '#D2B4DE', 'border-radius': '0px 15px 15px 0px'} ">
                                    <h4>{{op.option}} </h4>
                                    <ng-container class="font-weight-light" *ngIf="op.iduser !== null; else newDeb" >
                                        <h4>{{op.iduser.length}} %</h4>
                                    </ng-container>
                                    <ng-template  class="font-weight-light" #newDeb>
                                        0%
                                    </ng-template>

                                    <!--                            <ngb-alert [class.visible]="isVisible" *ngIf="alert != null" [type]="alert.type"   >-->
                                    <!--                                <ng-container *ngIf="alert.icon">-->
                                    <!--                                    <div class="alert-inner&#45;&#45;icon">-->
                                    <!--                                        <i class="{{alert.icon}}"></i>-->
                                    <!--                                    </div>-->
                                    <!--                                </ng-container>-->
                                    <!--                                <span class="alert-inner&#45;&#45;text">  <strong>{{alert.strong}} </strong>{{ alert.message }}</span>-->
                                    <!--                            </ngb-alert>-->
                                </div>



                            </div>
                        </div>

                        <!--                                <div *ngIf="op.iduser !== null;then contenu">-->
                        <!--                                    <h4>length : {{op.iduser.length}} </h4>-->
                        <!--                                </div>-->
                        <!--                                <ng-template #contenu>0</ng-template>-->

                    </div>
                    <div *ngIf="pub.resources.length !== 0"  class="mb-2">
                        <div class="col-lg-10 mb-lg-auto center">
                            <div class="rounded  bootstrap-slider">
                                <ngb-carousel >
                                    <ng-template ngbSlide *ngFor="let res of pub.resources">
                                        <img   [src]="res.url" style="height: 100%!important;  width: 100%!important;">
                                    </ng-template>

                                </ngb-carousel>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="mt-2 py-2 border-top text-center">
                    <!--            <div class="row float-left">-->
                    <!--                <ng-container class="font-weight-light" *ngIf=" verifie(p.ratings)  ; else rating" >-->
                    <!--                    <button  style="color: red; background-color: transparent;border: transparent;   margin-left: 20px" (click)="addRating(p.id)" >-->
                    <!--                        <mat-icon style="font-size: 30px">favorite</mat-icon>-->
                    <!--                    </button>-->
                    <!--                </ng-container>-->
                    <!--                <ng-template  class="font-weight-light mt- ml-10" #rating>-->

                    <!--                    <mat-icon style="font-size: 30px; color: #3b5999;margin-left: 20px">favorite</mat-icon>-->

                    <!--                </ng-template>-->

                    <!--                &lt;!&ndash;                            <div class="col-lg-9">&ndash;&gt;-->
                    <!--                &lt;!&ndash;                                <p>An artist of considerable range, Ryan — the name taken by Melbourne-raised, Brooklyn-based Nick Murphy — writes, performs and records all of his own music, giving it a warm, intimate feel with a solid groove structure. An artist of considerable range.</p>&ndash;&gt;-->
                    <!--                &lt;!&ndash;                                <a href="javascript:void(0)">Show more</a>&ndash;&gt;-->
                    <!--                &lt;!&ndash;                            </div>&ndash;&gt;-->
                    <!--            </div>-->
                    <div class="float-right " >
                        <div class="card-profile-stats d-flex justify-content-center" style="margin-top: -1.5rem !important; font-size: 10px">
                            <div>
                                <span class="heading">{{pub.ratings.length}}</span>
                                <span class="description">Likes</span>
                            </div>
                            <div>
                                <span class="heading">{{pub.resources.length}}</span>
                                <span class="description">Photos</span>
                            </div>
                            <div>
                                <span class="heading">{{pub.comments.length}}</span>
                                <span class="description">Comments</span>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="mt-5 py-5 border-top">
                    <div class="container" style="margin-top: -1.5em !important;">
                        <ng-template *ngIf="comments === allc"><a class="float-right"  (click)="comments = allcomments()"  style="border-bottom: 2px solid #3b5999 ; color: #3b5999" >All comments </a><br><br>
                        </ng-template>
<!--                            <div class="row"  >-->
<!--                            <ng-container >-->
<!--                                <div class="col" *ngFor="let c of comments" >{{c.comment}}</div><br>-->

<!--                            </ng-container>-->

<!--                        </div>-->

                        <div style="max-height: 320px !important;overflow: auto;margin-top: -5px " class="container" data-bs-spy="scroll" data-bs-target="#list-example" data-bs-offset="0"  >
<!--                        <h2 style="color: gray ;text-align: center;font-weight: bold;">All publicites between your age : </h2>-->
                            <div    class="row"  *ngFor="let c of comments ;let i = index" style="padding-bottom : 10px"  [ngStyle]="i %2  === 0 ? {'background-color': '#E7E7E8'} : {'background-color': 'white'} "   >
                             <div class="col-10">

                                 <div class="float-right">
                                     <button (click)="verifEstimation(c.id)" class="btn7"> like </button>

                                     <button (click)="addSCom(c.id)" class="btn7"> sous comments </button>
                                 </div>
                                 <div *ngIf="vEmoji === c.id ;then contenu">
                                 </div>
                                 <ng-template #contenu>
                                     <div class="alert d-inline-flex"  >
                                         <div *ngFor="let emoji of myArray" style="margin-top: -12px" >
                                             <button (click)="addEstimation(emoji,c.id)" class="floating" style="border: transparent; background-color: transparent ; font-size: 20px;"> {{emoji}}</button>
                                             <!--                                        <ng-template></ng-template>-->
                                         </div>

                                     </div>
                                 </ng-template>
<!--                                <div class="icon icon-shape icon-shape-primary rounded-circl float-left" style="width : 20px; height: 20px" >-->
                                    <i style="font-size: 80%" >{{username[i]}} </i>
<!--                                </div>-->
                                 <div class=" mt-2"> {{c.comment}}</div>


                                 </div>

                                    <div class="card-profile-actions col-2 float-right" *ngIf="c.iduser === user. id " >
                                        <!--                                <a href="javascript:void(0)" class="btn btn-sm btn-info mr-4">Connect</a>-->
                                        <!--                                <a href="javascript:void(0)" class="btn btn-sm btn-default float-right">Message</a>-->

                                        <button mat-icon-button class="bg-transparent border-0"  [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu"  >
                                            <mat-icon>more_vert</mat-icon>
                                        </button>
                                        <mat-menu #menu="matMenu">
                                            <button (click)="openDialogModify(c.id)" mat-menu-item>
                                                <mat-icon>edit</mat-icon>
                                                <span>Edit</span>
                                            </button>
                                            <button (click)="openDialogDelete(c.id)" mat-menu-item>
                                                <mat-icon>delete</mat-icon>
                                                <span>Delete</span>
                                            </button>
                                            <button (click)="openchart(c.id)" mat-menu-item>
                                                <mat-icon>pie_chart</mat-icon>
                                                <span>Chart Estimation</span>
                                            </button>


                                        </mat-menu>

                                    </div>
                            </div>
                    </div>
                    </div>

                        <div class="row justify-content-center mt-5">

                            <div class="col" style=" width: 100%; height: 50px;text-align: left;border-radius: 40px;border: 1px solid #cccccc; background-color: rgba(226,226,226,0.88)">
                                <input  (keyup.enter)="addcom()" (keyup)="verifword($event)" [(ngModel)]="comment.comment"  placeholder="write your comment" style="width: 80%;   height: 50px;background-color: transparent; border-color: transparent!important;" />

                                <i class='float-right mt-2'
                                   (click)="verif = !verif"
                                   [(emojiPickerIf)]="verif"
                                   [emojiPickerDirection]="'left'"
                                   (emojiPickerSelect)="handleSelection($event)">
                                    <mat-icon style="font-size: 30px;color: #cccccc;"> sentiment_satisfied_alt</mat-icon>
                                </i>

                                <!--                                <p>An artist of considerable range, Ryan — the name taken by Melbourne-raised, Brooklyn-based Nick Murphy — writes, performs and records all of his own music, giving it a warm, intimate feel with a solid groove structure. An artist of considerable range.</p>-->
                                <!--                                <a href="javascript:void(0)">Show more</a>-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    </section>
<!--    <section class="section mt&#45;&#45;300">-->
<!--       -->
<!--    </section>-->
</main>
